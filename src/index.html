<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lokua P5</title>
    <link href="index.css" rel="stylesheet" />
  </head>
  <body>
    <main id="root">
      <section id="sketch-container">
        <div id="sketch"></div>
      </section>
      <section id="controls">
        <header>
          <section>
            <select id="sketches-select"></select>
          </section>
          <section id="controls-container">
            <button id="redraw-button">draw [d]</button>
            <button id="loop-button">loop [l]</button>
            <button id="save-button">save [s]</button>
            <button id="reset-button">reset [r]</button>
            <button id="bg-button">bg [b]</button>
            <button id="midi-start">start [p]</button>
            <button id="record-button">record</button>
          </section>
        </header>
        <main id="dynamic-controls"></main>
      </section>
    </main>
    <dialog id="midi-mappings">
      <section>
        <p>
          In Ableton Live, enter MIDI Mapping mode, select the Start button
          there, then press the Start button here. Repeat for the Stop button
          and you should be all set to use the `play [p]` button in this app to
          start Live remotely. Note that we have to map Start and Stop and send
          them both to truly restart Live such that it sends its own Start
          message back to our app to properly sync things.
        </p>
      </section>
      <section>
        <button id="midi-mappings-start">Start</button>
        <button id="midi-mappings-stop">Stop</button>
        <button id="midi-mappings-exit">(Exit)</button>
      </section>
    </dialog>
    <script type="importmap">
      {
        "imports": {
          "chroma-js": "/modules/chroma-js/index.js",
          "@lokua/midi-util": "/modules/@lokua/midi-util/src/index.mjs",
          "p5": "/modules/p5/lib/p5.js"
        }
      }
    </script>
    <script src="index.mjs" type="module"></script>
  </body>
</html>
